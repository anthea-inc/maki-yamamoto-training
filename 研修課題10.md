# 研修課題１０

## 課題１
* コンテナ仮想化技術が登場する以前は、どのような課題があったのでしょうか。それらの課題に対して、Dockerはどのようなアプローチで解決を図ったのか、自分の言葉でまとめてみましょう。

- DB環境を作る
- ライブラリーの依存関係を合わせる

従来の環境構築では上記のような作業が必要だったが、コンテナ仮想化技術の登場により手間を省くことができるようになった。  
Dockerfileやdocker-composeを使ってインフラ情報をコード化することによって誰でも使える状態になった

---

* 従来の仮想化技術とDockerの違いについて調べ、それぞれの特徴を比較してください。その上で、Dockerの利点は何だと考えますか。

ホスト型仮想化：仮想環境の中でOSを動かすため、CPU、ディスク使用量、メモリを圧迫し、負荷が大きくなる  
ソフトウェア：Oracle VM VirtualBoxなど

Docker：仮想環境の中にOSがなく、他の仮想化技術に比べるとコンテナの中身が少ないため処理が早い

---

* 実際の開発現場や運用現場でDockerがどのように活用されているのか、事例を調査してください。調査した事例から、Dockerの活用方法や導入効果について学んだことを共有しましょう。

【AWSにおけるdocker導入による効果】

- ソフトウェア出荷の数と速度を向上
- オペレーションの標準化
- シームレスに移動（ローカル開発〜本番デプロイ）
- コスト削減

https://aws.amazon.com/jp/docker/
---

## 課題２
* Dockerコンテナを実行するための環境であるDockerホストについて、その役割を説明してください。
    * また、Dockerホストとコンテナはどのように関係しているのでしょうか？

dockerホスト：dockerエンジンをインストールしているPCのこと  
役割：コンテナを操作したり、実行環境を提供する

従来の仮想化技術とは違ってゲストOSがなく、ホストOS（dockerホスト）によってコンテナが管理されている

---

* Docker Engineの主要な機能であるDockerクライアントとDocker デーモンはそれぞれどのような役割を持っているのでしょうか？
    * 両者はどのように連携して、Dockerコンテナを管理・操作しているのでしょうか？

Dockerクライアント：dockerデーモンを操作するのに利用する。ユーザーからのコマンドを受け付けると、dockerデーモンと通信して応答を返す。
Dockerデーモン：ホストマシン上で動作するコンテナを管理するために常駐するプロセス。主な役割は、コンテナの起動や管理を行うこと

→dockerクライアントはユーザーからコマンドを受け取ると、dockerデーモンと通信を行う

---

## 課題３
* Dockerにおけるネームスペース(Namespace)/コントロールグループ(cgroup)/ユニオンファイルシステム(UnionFS)の役割について教えてください。

ネームスペース：コンテナごとのユーザー権限などを管理する  
コントロールグループ：コンテナごとのリソースを管理する  
ユニオンファイルシステム：複数のファイル・ディレクトリを重ねることで1つのファイルシステムに見せる技術

---

## 課題４
* Dockerコンテナとはどのようなものか、簡潔に説明してください。  
→アプリケーションが必要とする環境を仮想空間上でひとまとめにして管理するもの（他のアプリケーションとの競合を避けられる）

* Dockerイメージについて説明してください。
    * また、Dockerイメージを使用することで、どのようなメリットがあるのか、具体例を交えて説明してください。　

→Dockerコンテナの動作環境となるテンプレートファイルです。Dockerイメージには、OSやアプリケーションからアプリケーションの実行に使われるコマンド、メタデータまで含まれており、Dockerコンテナを実行するためにはDockerイメージが必要です。

【Dockerイメージを使用するメリット】
- ワンパッケージ化されているので、ファイルのコピーミスなどがなくなる。
- 開発者のPC、開発機、本番機などさまざまな環境に展開できる

---

* Dockerレジストリとは何か、そしてDockerリポジトリとの関係について説明してください。
    * また、広く利用されているパブリックレジストリを1つ挙げてください。

→dockerレジストリ（Docker Hub）の中にdockerリポジトリがある  
→パブリックレジストリ：誰でも利用できる公共のレジストリ  
Docker Hub

https://www.networld.co.jp/solution/container_businessmaster/chapter3_2.html

---

* Dockerfileの役割について説明してください。
    * Dockerfileを使ってイメージを構築することで、どのような利点があるでしょうか。
 
→イメージを元にコンテナを作成する（ビルドする）  
→同じ環境を簡単に複製し、常に同じ構成で環境を再現できる

---

課題５
以下のDockerコマンドについて、それぞれの使用目的を説明してください。
* docker container run
→コンテナを起動する 

* docker container ls
→コンテナ一覧を確認する

* docker container start
→停止中のコンテナを起動

* docker container stop
→コンテナを停止する

* docker container rm
→コンテナを削除する

* docker image
→イメージの一覧を表示

* docker pull
→イメージを取り込む

* docker push
→イメージのアップロード

* docker build
→イメージを作成

* docker exec
→稼働コンテナでプロセス実行

* docker logs
→バックグラウンドで実行されているコンテナのログを表示する

---


課題６
docker container runのオプションについて、それぞれの使用目的を説明してください。
* --detach , -d
→バックグラウンドでコマンドを実行（デタッチモード）

* --env , -e
→環境変数を指定

* --volume , -v
→ボリューム（ファイルまたはディレクトリ）を設定する

* --publish , -p
→ポート番号を割り当てる

* --interactive , -i
→アタッチしていなくても、標準入力を開き続ける

* --tty , -t
→疑似TTYを割り当て

* --name
→コンテナに名前を割り当てる

* --restart
→終了したコンテナを再起動しようとするタイミングを構成する

* --rm
→コンテナが終了するとコンテナを自動的に削除
